(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{423:function(s,t,a){"use strict";a.r(t);var n=a(23),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"常见问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见问题"}},[s._v("#")]),s._v(" 常见问题")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AEJSON%E6%97%A5%E6%9C%9F%E7%9A%84%E6%A0%BC%E5%BC%8F"}},[s._v("如何配置JSON日期的格式")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%87%BA%E7%8E%B0%E6%89%BE%E4%B8%8D%E5%88%B0db%E6%A8%A1%E5%9D%97%E7%9A%84%E9%94%99%E8%AF%AF"}},[s._v("出现找不到db模块的错误")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96requestbody%E4%B8%AD%E7%9A%84%E5%8F%82%E6%95%B0"}},[s._v("如何获取RequestBody中的参数")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96header%E4%B8%AD%E7%9A%84%E5%8F%82%E6%95%B0"}},[s._v("如何获取Header中的参数")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96cookie%E4%B8%AD%E7%9A%84%E5%8F%82%E6%95%B0"}},[s._v("如何获取Cookie中的参数")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96session%E4%B8%AD%E7%9A%84%E5%8F%82%E6%95%B0"}},[s._v("如何获取Session中的参数")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96pathvariable%E4%B8%AD%E7%9A%84%E5%8F%82%E6%95%B0"}},[s._v("如何获取PathVariable中的参数")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96%E4%B8%8A%E4%BC%A0%E7%9A%84%E6%96%87%E4%BB%B6"}},[s._v("如何获取上传的文件")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96%E6%8F%90%E4%BA%A4%E7%9A%84%E6%95%B0%E7%BB%84%E5%8F%82%E6%95%B0"}},[s._v("如何获取提交的数组参数")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%A6%82%E4%BD%95%E6%89%93%E5%8D%B0sql%E8%AF%AD%E5%8F%A5"}},[s._v("如何打印SQL语句")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%A6%82%E4%BD%95%E7%BB%99%E6%8E%A5%E5%8F%A3%E6%B7%BB%E5%8A%A0%E6%9D%83%E9%99%90"}},[s._v("如何给接口添加权限")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%A6%82%E4%BD%95%E7%BB%99UI%E6%B7%BB%E5%8A%A0%E6%9D%83%E9%99%90"}},[s._v("如何给UI添加权限")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%AF%B9%E4%BA%8EUI%E7%95%8C%E9%9D%A2%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8Token%E9%89%B4%E6%9D%83"}},[s._v("对于UI界面如何使用Token鉴权")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%92%8C-%E7%9A%84%E5%8C%BA%E5%88%AB"}},[s._v("${}和#{}的区别")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%A6%82%E4%BD%95%E5%BE%AA%E7%8E%AF%E6%8B%BC%E6%8E%A5%E5%8F%82%E6%95%B0"}},[s._v("如何循环拼接参数")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%A4%9A%E6%95%B0%E6%8D%AE%E6%BA%90%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AE"}},[s._v("多数据源如何配置")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#sql%E6%89%A7%E8%A1%8C%E6%8A%A5%E9%94%99java-sql-sqlfeaturenotsupportedexception-null"}},[s._v("SQL执行报错java.sql.SQLFeatureNotSupportedException: null")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E5%A6%82%E4%BD%95%E8%87%AA%E5%AE%9A%E4%B9%89%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C"}},[s._v("如何自定义返回结果")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E9%A1%B5%E9%9D%A2%E5%8A%A0%E8%BD%BD%E7%BC%93%E6%85%A2"}},[s._v("页面加载缓慢")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E8%84%9A%E6%9C%AC%E5%86%85%E5%AE%B9%E8%A2%AB%E8%BD%AC%E4%B9%89"}},[s._v("脚本内容被转义")])]),s._v(" "),a("li",[a("a",{attrs:{href:"#%E6%89%A7%E8%A1%8C%E6%B5%8B%E8%AF%95%E6%97%A0%E5%93%8D%E5%BA%94"}},[s._v("执行测试无响应")])])]),s._v(" "),a("h2",{attrs:{id:"如何配置json日期的格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何配置json日期的格式"}},[s._v("#")]),s._v(" 如何配置JSON日期的格式")]),s._v(" "),a("p",[s._v("使用"),a("code",[s._v("Jackson")]),s._v("的配置如下("),a("code",[s._v("Spring Boot")]),s._v("默认使用"),a("code",[s._v("Jackson")]),s._v(")：")]),s._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spring")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("jackson")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("time-zone")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" GMT+8\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("date-format")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" yyyy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("MM"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("dd HH"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("mm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("ss\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("其它的自行参考"),a("code",[s._v("json")]),s._v("框架配置")]),s._v(" "),a("h2",{attrs:{id:"出现找不到db模块的错误"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#出现找不到db模块的错误"}},[s._v("#")]),s._v(" 出现找不到db模块的错误")]),s._v(" "),a("p",[s._v("目前已知两种情况：")]),s._v(" "),a("ul",[a("li",[s._v("未配置数据源")]),s._v(" "),a("li",[s._v("未引用"),a("code",[s._v("spring-boot-starter-jdbc")])])]),s._v(" "),a("h2",{attrs:{id:"如何获取requestbody中的参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何获取requestbody中的参数"}},[s._v("#")]),s._v(" 如何获取RequestBody中的参数")]),s._v(" "),a("p",[s._v("脚本中使用"),a("code",[s._v("body.xxx")]),s._v("获取"),a("code",[s._v("RequestBody")]),s._v("中的参数\n"),a("code",[s._v("SQL")]),s._v("中使用"),a("code",[s._v("#{body.xxx}")]),s._v("或"),a("code",[s._v("${body.xxx}")]),s._v("获取"),a("code",[s._v("RequestBody")]),s._v("中的参数")]),s._v(" "),a("h2",{attrs:{id:"如何获取header中的参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何获取header中的参数"}},[s._v("#")]),s._v(" 如何获取Header中的参数")]),s._v(" "),a("p",[s._v("脚本中使用"),a("code",[s._v("header.xxx")]),s._v("获取"),a("code",[s._v("Header")]),s._v("中的参数\n"),a("code",[s._v("SQL")]),s._v("中使用"),a("code",[s._v("#{header.xxx}")]),s._v("或"),a("code",[s._v("${header.xxx}")]),s._v("获取"),a("code",[s._v("Header")]),s._v("中的参数")]),s._v(" "),a("h2",{attrs:{id:"如何获取cookie中的参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何获取cookie中的参数"}},[s._v("#")]),s._v(" 如何获取Cookie中的参数")]),s._v(" "),a("p",[s._v("脚本使用"),a("code",[s._v("cookie.xxx")]),s._v("获取"),a("code",[s._v("Cookie")]),s._v("中的参数\n"),a("code",[s._v("SQL")]),s._v("中使用"),a("code",[s._v("#{cookie.xxx}")]),s._v("或"),a("code",[s._v("${cookie.xxx}")]),s._v("获取"),a("code",[s._v("Cookie")]),s._v("中的参数")]),s._v(" "),a("h2",{attrs:{id:"如何获取session中的参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何获取session中的参数"}},[s._v("#")]),s._v(" 如何获取Session中的参数")]),s._v(" "),a("p",[s._v("脚本中使用"),a("code",[s._v("session.xxx")]),s._v("获取"),a("code",[s._v("Session")]),s._v("中的参数\n"),a("code",[s._v("SQL")]),s._v("中使用"),a("code",[s._v("#{session.xxx}")]),s._v("或"),a("code",[s._v("{session.xxx}")]),s._v("获取"),a("code",[s._v("Session")]),s._v("中的参数")]),s._v(" "),a("h2",{attrs:{id:"如何获取pathvariable中的参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何获取pathvariable中的参数"}},[s._v("#")]),s._v(" 如何获取PathVariable中的参数")]),s._v(" "),a("p",[s._v("脚本中使用"),a("code",[s._v("PathVariableName")]),s._v("或"),a("code",[s._v("path.xxxx")]),s._v("获取"),a("code",[s._v("PathVariable")]),s._v("中的参数\n"),a("code",[s._v("SQL")]),s._v("中使用"),a("code",[s._v("#{PathVariableName}")]),s._v("或"),a("code",[s._v("#{path.xxx}")]),s._v("获取"),a("code",[s._v("PathVariable")]),s._v("中的参数")]),s._v(" "),a("h2",{attrs:{id:"如何获取上传的文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何获取上传的文件"}},[s._v("#")]),s._v(" 如何获取上传的文件")]),s._v(" "),a("p",[s._v("利用Request模块")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nrequest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getFile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"如何获取提交的数组参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何获取提交的数组参数"}},[s._v("#")]),s._v(" 如何获取提交的数组参数")]),s._v(" "),a("p",[s._v("利用Request模块")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getValues")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'name'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"如何打印sql语句"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何打印sql语句"}},[s._v("#")]),s._v(" 如何打印SQL语句")]),s._v(" "),a("p",[s._v("和"),a("code",[s._v("JdbcTemplate")]),s._v("的打印SQL语句方式一样")]),s._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("logging")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("level")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("org")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("springframework")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("jdbc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("core")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("JdbcTemplate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" DEBUG "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#打印SQL")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("StatementCreatorUtils")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" TRACE  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#打印SQL参数")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h2",{attrs:{id:"如何给接口添加权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何给接口添加权限"}},[s._v("#")]),s._v(" 如何给接口添加权限")]),s._v(" "),a("p",[s._v("一般情况采用"),a("code",[s._v("拦截器")]),s._v("实现\n在"),a("code",[s._v("接口选项")]),s._v("中配置"),a("code",[s._v("permisson")]),s._v("或"),a("code",[s._v("role")]),s._v("或自定义选项\n随后在拦截器实现：")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Component")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Order")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//拦截器顺序")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PermissionInterceptor")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("RequestInterceptor")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("preHandle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ApiInfo")]),s._v(" info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MagicScriptContext")]),s._v(" context"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpServletRequest")]),s._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpServletResponse")]),s._v(" response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 获取配置的接口选项属性")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" permissionCode "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" info"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getOptionValue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Options")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PERMISSION"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 执行自己的代码逻辑进行判断是否有权限")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ....")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("无权限"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        \t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 需要注意的是，拦截器返回的不会走ResultProvider。")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JsonBean")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("403")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"无权访问"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 放行")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br")])]),a("h2",{attrs:{id:"如何给ui添加权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何给ui添加权限"}},[s._v("#")]),s._v(" 如何给UI添加权限")]),s._v(" "),a("p",[s._v("请参考"),a("a",{attrs:{href:"./custom/authorization"}},[s._v("自定义UI鉴权")])]),s._v(" "),a("h2",{attrs:{id:"对于ui界面如何使用token鉴权"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#对于ui界面如何使用token鉴权"}},[s._v("#")]),s._v(" 对于UI界面如何使用Token鉴权")]),s._v(" "),a("p",[s._v("目前使用Vue的方式，对请求进行拦截进行实现，请参考"),a("a",{attrs:{href:"./custom/vue"}},[s._v("在Vue中使用")]),s._v("和"),a("a",{attrs:{href:"../config/magic-editor"}},[s._v("magic-editor配置")])]),s._v(" "),a("p",[s._v("通过上述配置，可使编辑器在请求时携带"),a("code",[s._v("Token")]),s._v("信息，然后由自己应用进行统一鉴权配置。")]),s._v(" "),a("h2",{attrs:{id:"和-的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#和-的区别"}},[s._v("#")]),s._v(" ${}和#{}的区别")]),s._v(" "),a("p",[s._v("主要区别在于"),a("code",[s._v("${}")]),s._v("用于拼接SQL(会产生SQL注入问题)，"),a("code",[s._v("#{}")]),s._v("会替换成占位符（不会产生SQL注入问题），这里的区别于"),a("code",[s._v("Mybatis")]),s._v("一致")]),s._v(" "),a("h2",{attrs:{id:"如何循环拼接参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何循环拼接参数"}},[s._v("#")]),s._v(" 如何循环拼接参数")]),s._v(" "),a("p",[s._v("两种办法：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("in (#{ids})")]),s._v("的语法会自动对集合参数展开")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" ids "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//会自动变成select * from sys_user where id in(?,?,?,?,?,?)")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("select")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'select * from sys_user where id in(#{ids})'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("ul",[a("li",[s._v("循环拼接SQL")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" list "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" sql "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"select * from sys_user where "')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("item "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    sql "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" sql "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'id = #{list['")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("index"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("']}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("index "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" list"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        sql "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" sql "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("' or '")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("   \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("select")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h2",{attrs:{id:"多数据源如何配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多数据源如何配置"}},[s._v("#")]),s._v(" 多数据源如何配置")]),s._v(" "),a("p",[s._v("编写java代码如下：")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Bean")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MagicDynamicDataSource")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("magicDynamicDataSource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MagicDynamicDataSource")]),s._v(" dynamicDataSource "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MagicDynamicDataSource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 设置默认数据源（默认数据源一定要设置）")]),s._v("\n    dynamicDataSource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setDefault")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ds1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    dynamicDataSource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"slave"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("ds2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" dynamicDataSource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("脚本中使用：")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("select")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'select * from sys_user'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//使用默认数据源")]),s._v("\ndb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("slave"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("select")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'select * from sys_user'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//使用slave数据源")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"sql执行报错java-sql-sqlfeaturenotsupportedexception-null"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sql执行报错java-sql-sqlfeaturenotsupportedexception-null"}},[s._v("#")]),s._v(" SQL执行报错java.sql.SQLFeatureNotSupportedException: null")]),s._v(" "),a("p",[s._v("原因：druid版本过低，升级至最新版后即可")]),s._v(" "),a("h2",{attrs:{id:"如何自定义返回结果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何自定义返回结果"}},[s._v("#")]),s._v(" 如何自定义返回结果")]),s._v(" "),a("ul",[a("li",[s._v("通过配置文件进行配置，具体参考"),a("a",{attrs:{href:"../config"}},[s._v("spring-boot配置")])]),s._v(" "),a("li",[s._v("通过"),a("code",[s._v("自定义JSON结果")]),s._v("，具体定义方法查看"),a("a",{attrs:{href:"./custom/json"}},[s._v("自定义JSON结果")])]),s._v(" "),a("li",[s._v("通过"),a("code",[s._v("自定义拦截器")]),s._v("拦截返回自己想要的格式，具体定义方法查看"),a("a",{attrs:{href:"./custom/interceptor"}},[s._v("自定义拦截器")])]),s._v(" "),a("li",[s._v("通过"),a("code",[s._v("spring")]),s._v("的拦截器返回想要的格式，如"),a("code",[s._v("ResponseBodyAdvice")]),s._v("，"),a("code",[s._v("HandlerMethodReturnValueHandler")]),s._v("（这种方式目前会影响到UI,故不推荐使用）")])]),s._v(" "),a("h2",{attrs:{id:"页面加载缓慢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#页面加载缓慢"}},[s._v("#")]),s._v(" 页面加载缓慢")]),s._v(" "),a("p",[s._v("由于"),a("code",[s._v("monaco-editor")]),s._v("编辑器比较大，建议开启压缩静态资源")]),s._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("server.compression.enabled")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("true #启用压缩")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("server.compression.min-response-size")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("256 #大于256kb时压缩")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"脚本内容被转义"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#脚本内容被转义"}},[s._v("#")]),s._v(" 脚本内容被转义")]),s._v(" "),a("p",[s._v("出现这种情况，请检查自身项目是否有"),a("code",[s._v("XSS")]),s._v("一类的过滤器，需要把"),a("code",[s._v("UI")]),s._v("界面对应的后台接口排除掉即可")]),s._v(" "),a("h2",{attrs:{id:"执行测试无响应"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#执行测试无响应"}},[s._v("#")]),s._v(" 执行测试无响应")]),s._v(" "),a("p",[s._v("目前已知有两种情况")]),s._v(" "),a("ul",[a("li",[s._v("使用了Spring Boot 2.3.5版本，升级至2.3.6解决")]),s._v(" "),a("li",[s._v("使用了"),a("code",[s._v("nginx")]),s._v("代理，加一条配置"),a("code",[s._v("proxy_buffering off;")]),s._v("解决")])])])}),[],!1,null,null,null);t.default=e.exports}}]);